Hauptfehler war in der Funktion randomChar.

Versuche mal zu verstehen warum....

Und noch ein paar Indexfehler beim shiften

Versuche mal eine schöne diff Funktion zu finden (oder die in Sourcetree nehmen)
und meine Korrekturen versuchen zu verstehen....

Ein schönes WE...